<%- include('../includes/head')%>

</head>
<body>
    <!-- navigation -->
    <%- include('../includes/admin-navigation')%>
    <%- include('../includes/navigation')%>
    <%- include('../includes/menu')%>
    
    <div class="alert alert-primary text-center" role="alert">
        <h3 style="font-weight: 700;" class="mb-0 py-3">ثبت نام</h3>
    </div>

        <!-- Flash errors and messages -->
        <!-- delete duplicate sentenses -->
        <% 
            let unique_errorMessages = [...new Set(errorMessages)]
        %>
        <% if(unique_errorMessages.length > 0) { %>
            <% for(let message of unique_errorMessages) { %>
                <div style="width: 300px;" class="alert alert-danger alert-dismissible fade show mx-auto mt-2" role="alert"> 
                        <%= message %>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            <% } %>
        <% } %>

    <form style="width: 300px;" class="mx-auto mt-4" action="/auth/signup" method="post">
         <!-- NAME -->
         <div class="mb-3">
            <label for="name" class="form-label">نام </label>
            <input name="name" type="text" class="form-control" id="name" placeholder="نام کاربری" value="<%= oldInput.name %>">
        </div>
        <!-- EMAIL -->
        <div class="mb-3">
            <label for="email" class="form-label">ایمیل</label>
            <input name="email" type="email" class="form-control text-right <%= errors.find(e => e.param == 'email') ? 'invalid' : '' %>"  id="email" placeholder="ایمیل"  value="<%= oldInput.email %>">
        </div>
        <!-- PASSWORD -->
        <div class="mb-3">
            <label for="password" class="form-label">رمز عبور</label>
            <input name="password" type="password" class="form-control" id="password" placeholder="***********"  value="<%= oldInput.password %>">
        </div>

        <!-- CONFIRM PASSWORD -->
        <div class="mb-3">
            <label for="confirmPassword" class="form-label">تایید رمز عبور</label>
            <input name="confirmPassword" type="password" class="form-control <%= errors.find(e => e.param == 'confirmPassword') ? 'invalid' : '' %>" id="confirmPassword" placeholder="***********"  value="<%= oldInput.confirmPassword %>">
        </div>
        <!-- csrfToken -->
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
        <div class="d-flex">
            <input class="btn btn-primary" type="submit" value="ثبت نام">
            <a class="text-center  mx-1 btn-sm mt-3 p-1 ms-auto" href="/auth/login"> آیا اکانت دارید؟ </a>
        </div>

        
    </form>
    <!-- END -->
    <%- include('../includes/end')%>